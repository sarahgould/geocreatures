<!doctype html>
<html lang="en">

    <head>
    	<meta charset="UTF-8" />

    	<title>GeoCreatures</title>

        <style type="text/css">
        blah
        </style>
    </head>

    <body>
        <script src="scripts/seedrandom.min.js"></script>
        <script src="scripts/geolocation.js"></script>
        <script>
            //(function() {
                // Geolocation.getLocationString(print, print)
                //
                // function print (s) {
                //     console.log(s)
                // }

                function generateWord () {
                    // Pick a number of syllables
                    var numSyllables = randomIn([1,2,3])

                    // Add first syllable
                    var word = generateSyllable(true, false)

                    // Add rest of syllables
                    for (var i in range(numSyllables-1)) {
                        // Remove hanging e's from earlier syllables
                        if (word.charAt(word.length-1) === 'e') {
                            word = word.slice(0, word.length-2)
                        }

                        // Add a new syllable
                        word = word + generateSyllable(false, (i === numSyllables-2))
                    }

                    // Capitalize word
                    return capitalize(word)
                }

                function generateSyllable (firstSyllable, lastSyllable) {
                    // Figure out whether to include onset and coda
                    var includeOnset = (!firstSyllable ? false : randomIn([true, false]))
                    var includeCoda = (!lastSyllable ? true : randomIn([true, false]))

                    // Generate parts of syllable
                    var onset = randomIn(onsets)
                    var nucleus = randomIn(nuclei)
                    var coda = randomIn(codas)

                    // Put syllable together
                    var syllable =
                        (includeOnset ? onset : '') +
                        nucleus +
                        (!includeOnset || includeCoda ? coda : '')

                    // Return the syllable
                    return syllable
                }

                function capitalize (string) {
                    return string.charAt(0).toUpperCase() + string.slice(1)
                }

                function randomIn (list) {
                    var i = Math.floor(Math.random() * list.length)
                    return list[i]
                }

                function range (num) {
                    return [...Array(num).keys()]
                }

                var nuclei = [
                    'a',
                    'e',
                    'i',
                    'o',
                    'u',
                    'ou',
                    'ai',
                    'ei',
                    'oi'
                ]

                var onsets = [
                    'p', 't', 'k', 'f', 's',
                    'b', 'd', 'g', 'v', 'z',
                    'r', 'l', 'm', 'n', 'h', 'w', 'y',
                    'ch', 'sh', 'th',
                    'x', 'qu',
                    'pl', 'bl', 'cl', 'gl',
                    'pr', 'br', 'cr', 'gr', 'tr', 'dr',
                    //'tw', 'dw', 'gw', 'pw',
                    'fl', 'sl', 'thl', 'vl',
                    'fr', 'thr', 'shr',
                    'sp', 'st', 'sk',
                    'sm', 'sn',
                    'spl', 'scl', 'spr', 'str', 'scr', 'squ',
                    'shl', 'shm', 'shn'
                ]

                var codas = [
                    'p', 't', 'ck', 'f', 's',
                    'b', 'd', 'g', 've', 'z',
                    'r', 'l', 'm', 'n',
                    'sh', 'ch', 'th', 'ge', 'dge',
                    'lp', 'lt', 'ld', 'lch', 'lge', 'lk',
                    'rp', 'rb', 'rt', 'rd', 'rch', 'rge', 'rk', 'rg',
                    'lf', 'lv', 'lth', 'ls', 'lsh',
                    'rf', 'rv', 'rth', 'rs', 'rsh',
                    'lm', 'ln',
                    'rm', 'rn', 'rl',
                    'mp', 'nt', 'nd', 'nch', 'nge', 'nk',
                    'mph', 'mth', 'ns', 'nze',
                    'ft', 'sp', 'st', 'sk',
                    'pt','ct',
                    'ps', 'th', 'ts', 'x',
                    'lpt', 'lts', 'lst', 'lkt', 'lx',
                    'rpt', 'rps', 'rts', 'rst', 'rct',
                    'mpt', 'mps', 'nct', 'nx',
                    'xt'
                ]

                for (var i in range(20)) {
                    console.log(generateWord())
                }
            //})()
        </script>
    </body>

</html>
